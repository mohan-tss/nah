<div class="p-contain">

    <div class="row m-0 filters-widget">
      <!-- <div class="col-12 col-md-4 mb-1 p-0 pr-md-3">
        <p-dropdown [options]="cityList" [(ngModel)]="selectedCity" placeholder="Select a City" optionLabel="name" [showClear]="true"></p-dropdown>
      </div> -->
      <!-- <div class="col-12 col-md-4 mb-1 p-0 pr-md-3">
        <p-dropdown [options]="noerTypes" [(ngModel)]="selectedCity" placeholder="Type Of Noer" optionLabel="name" [showClear]="true"></p-dropdown>
      </div> -->
      <div class="col-12 col-md-4 mb-1 p-0">
        <input type="text" pInputText placeholder="Search">
      </div>
      <div class="col-12 col-md-4 mb-1 p-0 d-flex justify-content-end">
        <button type="button" class="btn btn-sm btn-danger" (click)="onAdd(addCity)">Add City</button>
    </div>
    </div>
  <p-table  [columns]="cols" [value]="cityList" [responsive]="true" >
    <ng-template pTemplate="header" let-columns>
      <tr >
        <th *ngFor="let col of columns" >
          {{ col.header }}
        </th>
        <th class="actions-th">Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user let-columns="columns">
      <tr >
        <td *ngFor="let col of columns">
          <span class="ui-column-title">{{ col.header }}</span>
          {{ user[col.field] }}
        </td>
        <td>
          <div
            class="actions-dp"
            ngbDropdown
            placement="bottom-right"
            container="body"
          >
            <a class="fa fa-ellipsis-v" ngbDropdownToggle></a>
            <div
              class="actions-dropdown-menu"
              ngbDropdownMenu
              aria-labelledby="dropdownBasic1"
            >
              <!-- <li>
                <a
                  class="dropdown-item"
                  (click)="onCreditDebitAmount(creditAmount, 'Credit', user)"
                  >Credit Amount</a
                >
              </li>
              <li>
                <a
                  class="dropdown-item"
                  (click)="onCreditDebitAmount(creditAmount, 'Debit', user)"
                  >Debit Amount</a
                >
              </li> -->
              <li>
                <a
                  class="dropdown-item"
                  (click)="onUpdate(addCity)"
                  >Edit City</a
                >
              </li>
            </div>
          </div>
        </td>
      </tr>
      <!-- <tr>
          <td>{{user.userId}}</td>
          <td>{{user.userName}}</td>
          <td>{{user.userType}}</td>
          <td>{{user.maxProfitMatch}}</td>
          <td>{{user.maxProfitFancy}}</td>
          <td>{{user.agentId}}</td>
          <td>
              <div class="actions-dp" ngbDropdown placement="bottom-right" container="body">
                  <a class='fa fa-ellipsis-v' ngbDropdownToggle></a>
                  <div class="actions-dropdown-menu" ngbDropdownMenu aria-labelledby="dropdownBasic1">
                      <li> <a class="dropdown-item" (click)="onCreditAmount(creditAmount)">Credit amount</a></li>
                      <li> <a class="dropdown-item">Debit amount</a></li>
                  </div>
              </div>
          </td>
      </tr> -->
    </ng-template>
    <ng-template pTemplate="emptymessage" let-columns>
      <tr>
        <td class="text-center" colspan="8">
          No records found
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
<ng-template #addCity let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h3>Add</h3>
      <button
        type="button"
        class="btn close"
        aria-label="Close"
        (click)="d('Cross click')"
      >
        <span aria-hidden="true" class="fa fa-times"></span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="form" ngNativeValidate>
        <formly-form
          [form]="form"
          [model]="model"
          [fields]="fields"
          [options]="options"
        >
          <div class="d-flex justify-content-center">
            <button
              type="submit"
              class="btn btn-sm btn-primary mr-1"
              (click)="addCity()"
            >
              Add
            </button>
          </div>
        </formly-form>
      </form>
    </div>
  </ng-template>
