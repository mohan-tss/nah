<!-- <div class="p-contain">
  <p-accordion>
    <p-accordionTab [header]="item.metaData.eventId + ' :: ' + item.metaData.eventTitle" [selected]="eventIndex == 0"
      *ngFor="let item of openBetsList; let eventIndex = index">
      <div class="text-right">
        <button *ngIf="item.groupByBetId && item.groupByBetId.length > 1" type="button" class="btn btn-xs btn-success"
          (click)="updateAllBetSatus(item.groupByBetId)">Update All Bets Status</button>
      </div>
      <p-accordion>
        <p-accordionTab [header]="item.metaData.betId + ' :: ' +item.metaData.betDescription" [selected]="betIndex == 0"
          *ngFor="let item of item.groupByBetId; let betIndex = index">
          <div class="text-right mb-1">
            <button type="button" class="btn btn-xs btn-success" (click)="updateBetSatus(item.items)">Update Current Bet
              Status</button>
          </div>
          <p-table styleClass='open-bets-table' [value]="item.items" [responsive]="true">
            <ng-template pTemplate="header">
              <tr>
               
                <th>Option Name</th>
                <th class="actions">Action</th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-bet>
              <tr>
                <td>{{ bet.betOptionName }}</td>
                <td>
                  <button type="button" class="btn btn-outline-success btn-xs "
                    [ngClass]="(bet.betStatus === 'successful')? 'btn-success' : ''"
                    (click)="updateBetOptionStatus(bet,item.items,'successful')">Successful</button>
                  <button type="button" class="btn btn-outline-danger btn-xs ml-1"
                    [ngClass]="(bet.betStatus === 'unsuccessful')? 'btn-danger' : ''"
                    (click)="updateBetOptionStatus(bet, item.items, 'unsuccessful')">Unsuccessful</button>
                  <button type="button" class="btn btn-outline-warning btn-xs ml-1"
                    [ngClass]="(bet.betStatus === 'cancelled')? 'btn-warning' : ''"
                    (click)="updateBetOptionStatus(bet, item.items, 'cancelled')">Cancelled</button>

                </td>
              </tr>
            </ng-template>
          </p-table>
        </p-accordionTab>
      </p-accordion>
    </p-accordionTab>
  </p-accordion>
</div> -->



<div class="p-contain">
  <p-accordion styleClass="openbets-accord">
    <p-accordionTab [header]="item.metaData.eventId + ' :: ' + item.metaData.eventTitle" [selected]="true"
      *ngFor="let item of openBetsList; let eventIndex = index">
      <div class="update-bets-btn">
        <button *ngIf="item.groupByBetId && item.groupByBetId.length > 1" type="button" class="btn btn-xs btn-success"
          (click)="updateAllBetSatus(item.groupByBetId)">Update Bets</button>
      </div>

      <p-table styleClass='open-bets-table' [value]="item.groupByBetId" [responsive]="true">
        <ng-template pTemplate="header">
          <tr>
            <th>Bet Id</th>
            <th>Description</th>
            <th>Options</th>
            <th class="actions">Bet Status</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-bet>
          <tr>
            <td>{{ bet.metaData.betId }}</td>
            <td>{{ bet.metaData.betDescription }}</td>
            <td>
              <ng-container *ngFor="let option of bet.items">
                <p><span class="text-info">{{option.betOptionName}} </span>
                  <span>
                    <select [ngClass]="{'text-success': (option.betStatus === 'successful'), 'text-danger': (option.betStatus === 'unsuccessful'), 'text-warning': (option.betStatus === 'cancelled')}" (change)="updateBetOptionStatus(option, bet.items, $event.target.value)">
                      <option class="text-success" value="successful"  [selected]="(option.betStatus === 'successful')? 'selected' : ''">Won</option>
                      <option class="text-danger" value="unsuccessful" [selected]="(option.betStatus === 'unsuccessful')? 'selected' : ''">Loss</option>
                      <option class="text-warning" value="cancelled" [selected]="(option.betStatus === 'cancelled')? 'selected' : ''">Cancelled</option>
                    </select>
                  </span>
                </p>
              </ng-container>
              <!-- {{bet.items | json}} -->
            </td>
            <td>
                <button type="button" class="btn btn-xs btn-success" (click)="updateBetSatus(bet.items)">Update Bet</button>
            </td>
            <!-- <td>2</td> -->
            <!-- <td>{{ bet.betOptionName }}</td>
                  <td>
                    <button type="button" class="btn btn-outline-success btn-xs " [ngClass] = "(bet.betStatus === 'successful')? 'btn-success' : ''" (click)="updateBetOptionStatus(bet,item.items,'successful')">Successful</button>
                    <button type="button" class="btn btn-outline-danger btn-xs ml-1" [ngClass] = "(bet.betStatus === 'unsuccessful')? 'btn-danger' : ''" (click)="updateBetOptionStatus(bet, item.items, 'unsuccessful')">Unsuccessful</button>
                    <button type="button" class="btn btn-outline-warning btn-xs ml-1" [ngClass] = "(bet.betStatus === 'cancelled')? 'btn-warning' : ''" (click)="updateBetOptionStatus(bet, item.items, 'cancelled')">Cancelled</button>
                  
                  </td> -->
          </tr>
        </ng-template>
      </p-table>
    </p-accordionTab>
  </p-accordion>
</div>